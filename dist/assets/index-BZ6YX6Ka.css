:root{--bg-color: #F8FAFC;--header-bg: #4F46E5;--header-gradient: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);--text-main: #1E293B;--card-bg: #FFFFFF;--board-light: #EEF2FF;--board-dark: #6366F1;--highlight-move: rgba(16, 185, 129, .6);--highlight-capture: rgba(239, 68, 68, .6);--btn-primary: #F59E0B;--btn-hover: #D97706;--btn-shadow: #B45309;--accent-red: #EF4444;--xp-fill: #FBBF24}*{box-sizing:border-box}body{font-family:Nunito,sans-serif;background-color:var(--bg-color);color:var(--text-main);background-image:radial-gradient(#E2E8F0 1px,transparent 1px);background-size:20px 20px;margin:0;padding:0;height:100vh;display:flex;flex-direction:column}h1,h2,h3,button{font-family:Fredoka,sans-serif}#app{display:flex;flex-direction:column;height:100%;max-width:1200px;margin:0 auto;width:100%}header{background:var(--header-gradient);color:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom-left-radius:24px;border-bottom-right-radius:24px;box-shadow:0 10px 25px -5px #6366f14d;flex-shrink:0}header h1{margin:0;font-size:2rem;text-shadow:2px 2px 0px rgba(0,0,0,.1)}#game-controls{display:flex;gap:1rem;align-items:center}.cartoon-btn{background-color:var(--btn-primary);border:none;box-shadow:0 4px 0 var(--btn-shadow);color:#fff;font-weight:700;padding:.6rem 1.8rem;font-size:1rem;border-radius:100px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);letter-spacing:.5px;text-transform:uppercase}.cartoon-btn:active{transform:translateY(4px);box-shadow:0 0 0 var(--btn-shadow)}.cartoon-select{padding:.5rem;border-radius:10px;border:2px solid #6366F1;font-family:Fredoka,sans-serif;font-size:1rem;background:#fff;color:#4f46e5;cursor:pointer}.theme-palette{display:flex;gap:.5rem;background:#fff3;padding:.4rem;border-radius:50px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.theme-swatch{width:36px;height:36px;border-radius:50%;border:2px solid rgba(255,255,255,.8);cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0000001a;padding:0}.theme-swatch:hover{transform:scale(1.1)}.theme-swatch.active{transform:scale(1.15);border-color:#fff;box-shadow:0 0 0 2px var(--btn-primary),0 4px 8px #0003;z-index:1}.theme-swatch[data-theme=classic]{background:linear-gradient(135deg,#f0fdf4 50%,#4ade80 50%)}.theme-swatch[data-theme=blue]{background:linear-gradient(135deg,#eef2ff 50%,#6366f1 50%)}.theme-swatch[data-theme=candy]{background:linear-gradient(135deg,#fff1f2 50%,#fb7185 50%)}.theme-swatch[data-theme=wood]{background:linear-gradient(135deg,#ead8b1 50%,#966f33 50%)}main{flex:1;display:flex;justify-content:center;align-items:center;padding:1rem;gap:2rem;overflow:hidden}.sidebar{width:250px;display:flex;flex-direction:column;gap:1rem;opacity:1}.card{background:var(--card-bg);border-radius:24px;padding:1.5rem;box-shadow:0 10px 15px -3px #0000000d,0 4px 6px -2px #00000006;border:1px solid rgba(255,255,255,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.coach-card{display:flex;flex-direction:column;align-items:center;text-align:center;background:linear-gradient(135deg,#fffbeb,#fef3c7);border:1px solid #FDE68A}.coach-avatar{font-size:3.5rem;margin-bottom:.5rem;background:#fff;width:80px;height:80px;display:flex;align-items:center;justify-content:center;border-radius:50%;box-shadow:0 4px 6px #0000000d;animation:bounce 3s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.speech-bubble{background:#fff;border-radius:16px;padding:1rem;position:relative;font-size:1rem;color:#374151;box-shadow:0 4px 6px #0000000d;line-height:1.4}.speech-bubble:after{content:"";position:absolute;top:-10px;left:50%;transform:translate(-50%);border-width:10px;border-style:solid;border-color:transparent transparent white transparent}#board-container{display:flex;justify-content:center;align-items:center}#chessboard{display:grid;grid-template-columns:repeat(8,1fr);grid-template-rows:repeat(8,1fr);width:80vh;height:80vh;max-width:600px;max-height:600px;border-radius:16px;box-shadow:0 20px 25px -5px #00000026,0 10px 10px -5px #00000024;overflow:hidden;position:relative;background-color:var(--board-dark);border:8px solid white}.square{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.square.light{background-color:var(--board-light)}.square.dark{background-color:var(--board-dark)}.square.highlight{position:relative}.square.highlight:after{content:"";width:40%;height:40%;background-color:var(--highlight-move);border-radius:50%;position:absolute}.square.highlight-capture{box-shadow:inset 0 0 0 4px #0003}.square.highlight-capture:after{background-color:transparent;width:100%;height:100%;border:4px solid var(--highlight-capture);border-radius:50%}.square.last-move{background-color:#ffeb3b80!important}.square.in-check{background-color:#ef4444!important;animation:pulse-red 1s infinite alternate}@keyframes pulse-red{0%{box-shadow:inset 0 0 10px #ef4444}to{box-shadow:inset 0 0 20px #b91c1c}}.piece.under-attack-undefended{filter:drop-shadow(0 0 5px #EF4444);animation:danger-pulse 1s infinite}@keyframes danger-pulse{0%{transform:scale(1);filter:drop-shadow(0 0 2px #EF4444)}50%{transform:scale(1.05);filter:drop-shadow(0 0 8px #EF4444)}to{transform:scale(1);filter:drop-shadow(0 0 2px #EF4444)}}.piece{width:90%;height:90%;background-size:contain;background-repeat:no-repeat;background-position:center;cursor:grab;z-index:10;transition:transform .1s}.piece:active{cursor:grabbing}.piece.dragging{cursor:grabbing;opacity:.8;transform:scale(1.1);z-index:100;filter:drop-shadow(5px 5px 5px rgba(0,0,0,.4))}.captured-pieces-card{display:flex;flex-direction:column;gap:.8rem}.captured-section{background:#f1f5f9;padding:.8rem;border-radius:12px;border:1px solid #E2E8F0}.captured-title{font-size:.75rem;color:#64748b;font-weight:800;margin-bottom:.5rem;display:block;text-transform:uppercase;letter-spacing:.05em}.captured-area{display:flex;flex-wrap:wrap;gap:4px;min-height:28px}.captured-piece{width:28px;height:28px;background-size:contain;background-repeat:no-repeat;filter:drop-shadow(0 2px 2px rgba(0,0,0,.1))}.xp-bar-container{width:100%;height:24px;background:#f1f5f9;border-radius:99px;margin:.5rem 0;overflow:hidden;border:1px solid #E2E8F0}.xp-bar-fill{background:linear-gradient(90deg,#f59e0b,#fbbf24);height:100%;border-radius:99px;transition:width .5s ease-out;box-shadow:0 0 10px #f59e0b4d}.move-history-list{height:200px;overflow-y:auto;font-family:Courier New,monospace;background:#f8fafc;border-radius:12px;padding:.8rem;border:1px solid #E2E8F0;font-size:.9rem;color:#475569}.overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:#0f172a99;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:1000}.hidden{display:none!important}.modal{background:#fff;padding:3rem;border-radius:32px;text-align:center;box-shadow:0 25px 50px -12px #00000040;animation:popIn .4s cubic-bezier(.34,1.56,.64,1);max-width:90%;width:400px}@keyframes popIn{0%{transform:scale(.8) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@media (max-width: 800px){main{flex-direction:column;height:auto;overflow-y:auto;padding-bottom:2rem}.sidebar{width:100%;flex-direction:row;flex-wrap:wrap}.card{flex:1;min-width:200px}#chessboard{width:90vw;height:90vw}header{flex-direction:column;gap:1rem;text-align:center}}
